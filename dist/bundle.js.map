{"version":3,"sources":["index.js"],"names":["findCurrent","currentClassName","document","querySelector","updateCarret","carret","current","offsetWidth","offsetLeft","style","width","left","menuCarret","carretRailsClassName","carretClassName","menuLinkClassName","rails","createElement","setAttribute","append","links","querySelectorAll","forEach","link","addEventListener","e","target","stopPropagation","siblings","Array","prototype","filter","call","parentNode","children","child","classList","remove","add","window","onresize","asyncImages","i","images","length","img","data_src","getAttribute","Image","src"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict'\n\nconst findCurrent = currentClassName =>\n\tdocument.querySelector(`.${currentClassName}`)\n\nconst updateCarret = (carret, current) => {\n\tif (carret && current) {\n\t\tconst { offsetWidth = 0, offsetLeft = 0 } = current\n\t\tcarret.style.width = `${offsetWidth}px`\n\t\tcarret.style.left = `${offsetLeft}px`\n\t}\n}\nconst menuCarret = () => {\n\tconst carretRailsClassName = 'menu__carret-rails'\n\tconst carretClassName = 'menu__carret'\n\tconst currentClassName = 'menu__link--current'\n\tconst menuLinkClassName = 'menu__link'\n\n\tlet current = findCurrent(currentClassName)\n\n\tconst rails = document.querySelector(`.${carretRailsClassName}`)\n\tconst carret = document.createElement('div')\n\tcarret.setAttribute('class', carretClassName)\n\tupdateCarret(carret, current)\n\trails.append(carret)\n\n\tconst links = document.querySelectorAll(`.${menuLinkClassName}`)\n\n\tlinks.forEach(link => {\n\t\tlink.addEventListener('mouseover', e => updateCarret(carret, e.target))\n\t\tlink.addEventListener('mouseout', () => {\n\t\t\tcurrent = findCurrent(currentClassName)\n\t\t\tupdateCarret(carret, current)\n\t\t})\n\n\t\tlink.addEventListener('click', e => {\n\t\t\te.stopPropagation()\n\t\t\tconst siblings = Array.prototype.filter.call(link.parentNode.children, child => child !== link)\n\t\t\tsiblings.forEach(link => link.classList.remove(currentClassName))\n\t\t\tlink.classList.add(currentClassName)\n\n\t\t\tcurrent = findCurrent(currentClassName)\n\t\t\tupdateCarret(carret, current)\n\t\t})\n\t})\n\n\twindow.onresize = () => updateCarret(carret, current)\n}\n\nconst asyncImages = () => {\n\tfor(let i = 0; i < document.images.length; i++) {\n\t\tconst img = document.images[i]\n\t\tconst data_src = img.getAttribute('data-src')\n\n\t\t// Про­пус­тить изо­бра­же­ния без data-src\n\t\tif (!data_src) continue\n\n\t\t// Обес­пе­чить за­груз­ку смен­но­го изо­бра­же­ния в кэш\n\t\t(new Image()).src = data_src\n\n\t\t// Установить загруженное изображение вместо прелоадера\n\t\timg.src = data_src\n\t}\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tmenuCarret()\n\tasyncImages()\n})\n"]}